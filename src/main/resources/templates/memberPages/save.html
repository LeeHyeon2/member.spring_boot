<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <title>Title</title>
</head>
<body>
  <h2>save.html</h2>

  <form action="/member/save" method="post">
      <input type="text" name="memberEmail" placeholder="Email" id="memberEmail" onblur="dup()"> <br>
      <span id="spanEmail"></span>
      <input type="text" name="memberPassword" placeholder="Password"> <br>
      <input type="text" name="memberName" placeholder="Name"> <br>
      <input type="text" name="memberAge" placeholder="Age"> <br>
      <input type="text" name="memberPhone" placeholder="Phone"> <br>
      <input type="submit" value="저장">
  </form>
</body>
<script>
    function dup(){
        const email = document.getElementById("memberEmail").value;
        $.ajax({
            url:"/member/dup-check",
            type:"post",
            data:{
                "memberEmail":email
            },
            dataType:"text",

            success: function (result){
                if (result == "ok"){
                    document.getElementById("spanEmail").style.color = "green";
                    document.getElementById("spanEmail").innerHTML = "가능합니다" + "<br>";
                }else{
                    document.getElementById("spanEmail").style.color = "red";
                    document.getElementById("spanEmail").innerHTML = "불가능합니다"  + "<br>";
                }
            }
        });
    };
</script>
</html>